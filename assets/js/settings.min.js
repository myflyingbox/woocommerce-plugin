jQuery(document).ready(function(e){var c;e(".colorpicker").hide(),e(".colorpicker").each(function(){e(this).farbtastic(e(this).closest(".color-picker").find(".color"))}),e(".color").click(function(){e(this).closest(".color-picker").find(".colorpicker").fadeIn()}),e(document).mousedown(function(){e(".colorpicker").each(function(){"block"==e(this).css("display")&&e(this).fadeOut()})}),jQuery.fn.uploadMediaFile=function(e,t){var e=e.attr("id"),i=e.replace("_button",""),o=e.replace("_button","_preview");c||(c=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1})).on("select",function(){attachment=c.state().get("selection").first().toJSON(),jQuery("#"+i).val(attachment.id),t&&jQuery("#"+o).attr("src",attachment.sizes.thumbnail.url),c=!1}),c.open()},jQuery(".image_upload_button").click(function(){jQuery.fn.uploadMediaFile(jQuery(this),!0)}),jQuery(".image_delete_button").click(function(){return jQuery(this).closest("td").find(".image_data_field").val(""),jQuery(this).closest("td").find(".image_preview").remove(),!1})});